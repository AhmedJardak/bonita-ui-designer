<div ng-class="{
    'form-horizontal': properties.labelPosition === 'left' && !properties.labelHidden,
    'row': properties.labelPosition === 'top' && !properties.labelHidden || properties.labelHidden
    }">
    <div class="form-group">
        <label
            ng-if="!properties.labelHidden"
            ng-class="{ 'control-label--required': properties.required }"
            class="control-label col-xs-{{ !properties.labelHidden && properties.labelPosition === 'left' ? properties.labelWidth : 12 }}">
            {{ properties.label }}
        </label>
        <div class="col-xs-{{ 12 - (!properties.labelHidden && properties.labelPosition === 'left' ? properties.labelWidth : 0) }}">
            <p class="input-group">
                <input type="text" class="form-control"
                       datepicker-popup="{{ properties.dateFormat }}"
                       pb-datepicker-utc
                       name="{{ctrl.name}}"
                       ng-model="properties.value"
                       is-open="ctrl.opened"
                       datepicker-options="ctrl.datepickerOptions"
                       placeholder="{{properties.placeholder}}"
                       ng-required="properties.required"
                       ng-readonly="properties.readOnly"/>

                <span class="input-group-btn">
                    <button type="button" class="btn btn-default"
                            ng-click="ctrl.today()"
                            ng-disabled="properties.readOnly">
                            Today
                    </button>
                    <button type="button" class="btn btn-default"
                              ng-click="ctrl.open($event)"
                              ng-disabled="properties.readOnly">
                              <i class="glyphicon glyphicon-calendar"></i>
                    </button>
                </span>
            </p>
            <div ng-messages="$form[ctrl.name].$dirty && $form[ctrl.name].$error " ng-messages-include="forms-generic-errors.html" role="alert"></div>
        </div>
    </div>
</div>
