<header class="HomeHeader">
    <div class="HomeHeader-logo">
        <img src="img/logo.png" class="LogoBPM hidden-xs hidden-sm">
        <img src="img/small-logo.png" class="LogoBPM--small hidden-lg hidden-md">
    </div>
    <h1 class="HomeHeader-title" translate>UI Designer</h1>
    <div class="HomeHeader-help">
        <button class="btn btn-bonita-help" ng-click="openHelp()"><i class="fa fa-question-circle"></i></button>
    </div>
</header>

<div class="container container--Home">
    <div class="row row--Home">
        <section class="col-sm-7 col--Home" id="pages">
            <div class="Panel">
                <div class="Panel-heading Panel-heading--primary">
                    <h3 class="Panel-title">
                        <i class="ui-icon ui-page Panel-icon"></i>
                        <span translate>Pages &amp; Forms</span>
                    </h3>
                </div>
                <div class="Panel-body">
                    <form class="form" name="newPage" ng-submit="createPage(page)">
                        <fieldset class="CreateArtifact">
                            <legend class="CreateArtifact-label CreateArtifact-label--primary" translate>New page</legend>
                            <button class="btn btn-bonita-primary CreateArtifact-import" title="{{'Import a page' | translate}}" type="button" ng-click="importElement('page')">
                                <i class="fa fa-alias-import"></i>
                            </button>
                            <div class="input-group CreateArtifact-form">
                                <input name="name"
                                       id="page-name"
                                       ng-model="page.name"
                                       type="text"
                                       ng-pattern="'[a-zA-Z0-9]*$'"
                                       class="form-control"
                                       placeholder="{{'Page Name' | translate}}"
                                       required>
                                <span class="input-group-btn">
                                    <button id="create-page"
                                            title="{{'Create new page' | translate}}"
                                            type="submit"
                                            class="btn btn-bonita-primary"
                                            ng-disabled="!newPage.$valid">
                                        <i class="fa fa-plus"></i>
                                    </button>
                                </span>
                            </div>
                            <span ng-if="newPage.name.$error.pattern" class="text-danger CreateArtifact-error" translate>Page name should contains only alphanumeric characters with no space</span>
                        </fieldset>
                    </form>

                    <p class="Artifact-empty" ng-if="pages.length == 0" translate>
                        No page or form
                    </p>

                    <ul class="ArtifactList">
                        <li class="ArtifactList-item ArtifactList-item--primary" ng-repeat="page in pages | orderBy:'-lastUpdate'">
                            <div class="Artifact-info">
                                <a ng-if="!page.isEditingName" ui-sref="designer.page({id: page.id})" class="Artifact-link Artifact-link--primary">
                                    <span title="{{ page.name }}">
                                        <i class="ui-icon ui-page Artifact-icon"></i>
                                        {{ page.name }}
                                    </span>
                                </a>
                                <form name="renamePage" class="Artifact-form" ng-if="page.isEditingName" ng-submit="renameItem(page)">
                                    <input name="name"
                                           data-autofocus
                                           ng-pattern="'[a-zA-Z0-9]*$'"
                                           id="page-name-input-{{$index}}"
                                           ng-model="page.name"
                                           ng-blur="renamePage.$valid && renameItem(page)"
                                           class="form-control" required>
                                    <span ng-if="renamePage.name.$error.pattern" class="text-danger" translate>Page name should contains only alphanumeric characters with no space</span>
                                </form>
                            </div>
                            <div class="Artifact-actions">
                                <button class="Artifact-button Artifact-button--primary btn-page-rename "
                                        ng-click="toggleItemEdition(page)"
                                        type="button"
                                        title="{{'Rename page' | translate}}">
                                    <i class="fa fa-pencil"></i>
                                </button>
                                <file-download class="Artifact-button Artifact-button--primary btn-page-export" href="exportPageUrl(page)" title="{{'Export page' | translate }}"></file-download>
                                <button class="Artifact-button Artifact-button--primary btn-page-delete"
                                        ng-click="deletePage(page)"
                                        type="button"
                                        title="{{'Delete page'| translate}}">
                                    <i class="fa fa-trash"></i>
                                </button>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="col-sm-5 col--Home" id="widgets">
            <div class="Panel">
                <div class="Panel-heading">
                    <h3 class="Panel-title">
                        <i class="ui-icon ui-custom-widget Panel-icon"></i>
                        <span translate>Custom Widgets</span>
                    </h3>
                </div>

                <div class="Panel-body">
                    <form name="newWidget" ng-submit="createWidget(widget.name)">
                        <fieldset class="CreateArtifact">
                            <legend class="CreateArtifact-label" translate>New widget</legend>
                            <button class="btn btn-bonita-default CreateArtifact-import" title="{{'Import a widget' | translate}}" type="button" ng-click="importElement('widget')">
                                <i class="fa fa-alias-import"></i>
                            </button>
                            <div class="input-group CreateArtifact-form">
                                <input name="name" ng-model="widget.name" type="text" class="form-control" id="widget-name" placeholder="{{'Widget Name' | translate}}" ng-pattern="'[a-zA-Z0-9]*$'" required>
                                <span class="input-group-btn">
                                    <button id="create-widget"
                                            title="{{'Create new widget'| translate }}"
                                            type="submit"
                                            class="btn btn-bonita-default"
                                            ng-disabled="!newWidget.$valid">
                                        <i class="fa fa-plus"></i>
                                    </button>
                                </span>
                            </div>
                            <span ng-if="newWidget.name.$error.pattern" class="text-danger CreateArtifact-error" translate>Widget name should contains only alphanumeric characters with no space</span>
                        </fieldset>
                    </form>

                    <p class="Artifact-empty" ng-if="widgets.length == 0" translate>
                        No custom widget
                    </p>

                    <ul class="ArtifactList">
                        <li class="ArtifactList-item" ng-repeat="widget in widgets | orderBy:'name'">
                            <div class="Artifact-info">
                                <a ui-sref="designer.widget({ widgetId: widget.id })" class="Artifact-link ">
                                    <span title="{{ widget.name }}">
                                        <i class="ui-icon ui-custom-widget Artifact-icon"></i>
                                        {{ widget.name }}
                                    </span>
                                </a>
                            </div>
                            <div class="Artifact-actions">
                                <file-download class="Artifact-button Artifact-button--primary btn-widget-export" href="exportWidgetUrl(widget)" title="{{'Export widget' | translate }}"></file-download>
                                <button class="Artifact-button btn-widget-delete"
                                        type="button"
                                        ng-click="deleteCustomWidget(widget)"
                                        title="{{'Delete widget' | translate }} {{ widget.name }}">
                                    <i class="fa fa-trash">&nbsp;</i>
                                </button>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
</div>
